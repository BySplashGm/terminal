const container=document.getElementById("console"),template=document.getElementById("linetemplate"),commandLine=document.getElementById("write");function keepFocus(){commandLine.focus()}for(const[key,value]of(document.getElementById("body").addEventListener("click",keepFocus),commandLine.addEventListener("blur",keepFocus),cmdList=[],Object.entries(commands={sudo:{aliases:[],description:"use super user powers",usage:"sudo < command >",result:["<p>please do not use that.. you might break something.</p>"]},gui:{aliases:["portfolio","website"],description:"get to the Graphical User Interface version",usage:"gui",result:["<p>The gui version of my portfolio is still under construction...</p>"]},cd:{aliases:[],description:"change the working directory",usage:"cd [directory]",result:["<p>you might not be able to do this...</p>"]},pwd:{aliases:[],description:"return working directory name",usage:"pwd",result:["<p>/home/guest</p>"]},nano:{aliases:[],description:"Nano's ANOther editor, an enhanced free Pico clone",usage:"nano",result:["<p>we're in 2024. you should use 'vi'.</p>"]},vi:{aliases:[],description:"screen-oriented (visual) display editor",usage:"vi",result:["<p>do you really use 'vi' instead of 'vim'?</p>"]},vim:{aliases:[],description:"Vi IMproved",usage:"vim",result:["<p>'vim' is so old. you definitely need to try 'nvim'.</p>"]},nvim:{aliases:[],description:"edit text",usage:"nvim",result:["<p>please, just download vscode.</p>"]},whoami:{aliases:[],description:"print effective user name",usage:"whoami",result:["<p>guest</p>"]},ls:{aliases:[],description:"list directory contents",usage:"ls",result:['<p class="teal bold">Desktop    Downloads  Videos</p>','<p class="teal bold">Documents  Music</p>',]},welcome:{aliases:["banner"],description:"to my terminal portfolio",usage:"welcome",result:[`<p class="yellow">███╗   ███╗ █████╗ ██╗  ██╗██╗███╗   ███╗███████╗</p>`,`<p class="yellow">████╗ ████║██╔══██╗╚██╗██╔╝██║████╗ ████║██╔════╝</p>`,`<p class="yellow">██╔████╔██║███████║ ╚███╔╝ ██║██╔████╔██║█████╗  </p>`,`<p class="yellow">██║╚██╔╝██║██╔══██║ ██╔██╗ ██║██║╚██╔╝██║██╔══╝  </p>`,`<p class="yellow">██║ ╚═╝ ██║██║  ██║██╔╝ ██╗██║██║ ╚═╝ ██║███████╗</p>`,`<p class="yellow">╚═╝     ╚═╝╚═╝  ╚═╝╚═╝  ╚═╝╚═╝╚═╝     ╚═╝╚══════╝</p>`,"<p> </p>","<p>Type 'help' to see the list of available commands.</p>","<p>Type 'sumfetch' to display summary.</p>","<p>Type 'gui' or click <a>here</a> for a simpler version.</p>","<p> </p>",`<p>⚠️ This project is not finished. You might encounter some errors or miss some features.</p>`,]},sumfetch:{aliases:["summary","neofetch","sum"],description:"a summary",usage:"sumfetch",result:["<p>..............<br></p>","<p>            ..,;:ccc,.<br></p>",`<p>          ......''';lxO.                           📋 sumfetch: summary display<br></p>`,"<p>.....''''..........,:ld;                           -----------<br></p>",`<p>           .';;;:::;,,.x,                          ❓ ABOUT<br></p>`,`<p>      ..'''.            0Xxoc:,.  ...              🪪 Maxime Valin<br></p>`,`<p>  ....                ,ONkc;,;cokOdc',.            💻 Computer Science Student<br></p>`,`<p> .                   OMo           ':ddo.          📜 <a href="#">resume</a><br></p>`,`<p>                    dMc               :OO;         🌐 //TODO<br></p>`,"<p>                    0M.                 .:o.       -----------<br></p>",`<p>                    ;Wd                            💌 CONTACT<br></p>`,`<p>                     ;XO,                          🟦 <a href="https://linkedin.com/in/maximevalin">linkedin.com/in/maximevalin</a><br></p>`,`<p>                       ,d0Odlc;,..                 📫 <a href="mailto:contact@maximeval.in">contact@maximeval.in</a><br></p>`,`<p>                           ..',;:cdOOd::,.         🤖 <a href="https://github.com/MaximeValin">github.com/MaximeValin</a><br></p>`,"<p>                                    .:d;.':;.      -----------<br></p>","<p>                                       'd,  .'     //TODO<br></p>","<p>                                         ;l   ..   <br></p>","<p>                                          .o       <br></p>","<p>                                            c<br></p>","<p>                                            .'<br></p>","<p>                                             .</p>",]},projects:{aliases:["mywork"],description:"what i've made by this day",usage:"projects",result:["<p>The list is under creation... Be patient :)</p>"]}})))for(cmdList.push(key),i=0;i<value.aliases.length;i++)cmdList.push(value.aliases[i]);for(cmdList.push("clear","help","man"),cmdList.sort(),cmdListString="",i=0;i<cmdList.length;i++)0!=i&&i%8==0&&(cmdListString+="<br>"),cmdListString+=cmdList[i]+" ";commands.help={aliases:[],description:"Display information about builtin commands",usage:"help",result:["<p>Here are all the available commands:</p>","<p> </p>","<p>"+cmdListString+"</p>","<p> </p>","<p>Use the 'man' command to get information about a specific command.</p>",]},commands.man={aliases:[],description:"an interface to the system reference manuals",usage:"man < command_name >",result:[]},commands.clear={aliases:[],description:"clear the terminal screen",usage:"clear",result:[]},document.getElementById("writeform").addEventListener("submit",function(e){e.preventDefault();var s=document.getElementById("write").value;document.getElementById("write").value="";let a=template.content.cloneNode(!0);a.getElementById("linecmd").innerHTML=s;let n=a.getElementById("lineres");if("clear"==(cmd=(promptSplit=s.split(" "))[0].toLowerCase()))container.innerHTML="";else if("man"==cmd){if(promptSplit[1]){if(arg=promptSplit[1].toLowerCase(),cmdList.includes(arg))for(let[t,l]of Object.entries(commands))(t==arg||l.aliases.includes(arg))&&(n.innerHTML+="<p class='bold'>NAME</p>",n.innerHTML+="<p>"+arg+" - "+l.description+"</p>",n.innerHTML+="<p class='bold'>ALIAS"+(1==l.aliases.length?"":"ES")+"</p>",n.innerHTML+="<p>"+(0!=l.aliases.length?l.aliases:"None")+"</p>",n.innerHTML+="<p class='bold'>USAGE</p>",n.innerHTML+="<p>"+l.usage+"</p>");else n.innerHTML="[MAN] Unknown command: '"+cmd+"' Type 'help' to see all available commands."}else n.innerHTML+="<p>What manual page do you want?</p>",n.innerHTML+="<p>For example, try 'man man'.</p>";container.append(a)}else{if(cmdList.includes(cmd)){for(let[o,p]of Object.entries(commands))if(o==cmd||p.aliases.includes(cmd))for(i=0;i<p.result.length;i++)n.innerHTML+=p.result[i]}else""!=cmd&&(n.innerHTML="Unknown command: '"+cmd+"'. Type 'help' to see all available commands.");container.append(a)}});